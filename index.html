<html>
<head>
<title>video</title>
<style type="text/css">
  #container {
    width: 30px;
    height: 60px;
    position: relative;
  }
  #wrapper > #container {
    display: table;
    position: static;
  }
  #container div {
    position: absolute;
    top: 50%;
  }
  #container div div {
    position: relative;
    top: -50%;
  }
  #container > div {
    display: table-cell;
    vertical-align: middle;
    position: static;
  }
</style>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.timer.js"></script>
<script>
$(document).ready(function(){

    $("#left").mouseenter(function(){
        $.ajax({url: "/mjpeg?action=control&dir=left", success: function(result){
        }});
    });
    $("#left").mouseleave(function(){
        $.ajax({url: "/mjpeg?action=control&dir=rotstop", success: function(result){
        }});
    });
    $("#up").mouseenter(function(){
        $.ajax({url: "/mjpeg?action=control&dir=up", success: function(result){
        }});
    });
    $("#up").mouseleave(function(){
        $.ajax({url: "/mjpeg?action=control&dir=rotstop", success: function(result){
        }});
    });
    $("#down").mouseenter(function(){
        $.ajax({url: "/mjpeg?action=control&dir=down", success: function(result){
        }});
    });
    $("#down").mouseleave(function(){
        $.ajax({url: "/mjpeg?action=control&dir=rotstop", success: function(result){
        }});
    });
    $("#right").mouseenter(function(){
        $.ajax({url: "/mjpeg?action=control&dir=right", success: function(result){
        }});
    });
   $("#right").mouseleave(function(){
        $.ajax({url: "/mjpeg?action=control&dir=rotstop", success: function(result){
        }});
    });
    $("#zoomin").mouseenter(function(){
        $.ajax({url: "/mjpeg?action=control&dir=zoomin", success: function(result){
        }});
    })
    $("#zoomin").mouseleave(function(){
        $.ajax({url: "/mjpeg?action=control&dir=zoomstop", success: function(result){
        }});
    })
    $("#zoomout").mouseenter(function(){
        $.ajax({url: "/mjpeg?action=control&dir=zoomout", success: function(result){
        }});
    });
    $("#zoomout").mouseleave(function(){
        $.ajax({url: "/mjpeg?action=control&dir=zoomstop", success: function(result){
        }});
    });
 
    $("#shot").click(function(){
        $.ajax({url: "/mjpeg?action=control&dir=shot", success: function(result){
        }});
    });

  var timer = $.timer(function(){
  //  alert('Timeout load video. Please, reload page');
    location.reload();
  });

  timer.set({ time : 5000, autostart : false });

  $('#mjpeg').append('<img width="640" height="480" border="0" src="/mjpeg?action=stream" id="image">');
  $('#image').load(function(){
    timer.reset();
  });


});
</script>

</head>
<body>
<div id="wrapper">
  <div id="container">

    <div>
      <h1>CAM#01</h1>
      <div>
        <button id="left" name="left" value="left">left</button>
        <button id="up" name="up" value="up">up</button>
        <button id="down" name="down" value="down">down</button>
        <button id="right" name="right" value="right">right</button>
        <button id="zoomin" name="zoomin" value="zoomin">zoomin</button>
        <button id="zoomout" name="zoomout" value="zoomout">zoomout</button>
        <button id="shot" name="shot" value="shot">shot</button>
      </div>
    </div>

    <div id="mjpeg"/>

  </div>
</div>
</body>
</html>

