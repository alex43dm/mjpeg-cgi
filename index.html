<html>
<head>
<title>video</title>
<style type="text/css">
  #container {
    width: 30px;
    height: 60px;
    position: relative;
  }
  #wrapper > #container {
    display: table;
    position: static;
  }
  #container div {
    position: absolute;
    top: 50%;
  }
  #container div div {
    position: relative;
    top: -50%;
  }
  #container > div {
    display: table-cell;
    vertical-align: middle;
    position: static;
  }
</style>
<script src="http://localhost/jquery.min.js"></script>
<script src="http://localhost/jquery.timer.js"></script>
<script>
$(document).ready(function(){

  var timer = $.timer(function(){
    alert('Timeout load video. Please, reload page');
 //   location.reload();
  });

  timer.set({ time : 5000, autostart : false });

  $('#mjpeg').append('<img width="640" height="480" border="0" src="http://localhost/mjpeg?action=stream" id="image">');
  $('#image').load(function(){
    timer.reset();
  });

    $("#left").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=left", success: function(result){
        }});
    });
    $("#up").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=up", success: function(result){
        }});
    });
    $("#down").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=down", success: function(result){
        }});
    });
    $("#right").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=right", success: function(result){
        }});
    });
});
</script>

</head>
<body>
<div id="wrapper">
  <div id="container">

    <div>
      <h1>CAM#01</h1>
      <div>
        <button id="left" name="left" value="left">left</button>
        <button id="up" name="up" value="up">up</button>
        <button id="down" name="down" value="down">down</button>
        <button id="right" name="right" value="right">right</button>
      </div>
    </div>

    <div id="mjpeg"/>

  </div>
</div>
</body>
</html>

