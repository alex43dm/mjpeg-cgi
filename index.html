<html>
<head>
<title>video</title>
<style type="text/css">
  #container {
    width: 30px;
    height: 60px;
    position: relative;
  }
  #wrapper > #container {
    display: table;
    position: static;
  }
  #container div {
    position: absolute;
    top: 50%;
  }
  #container div div {
    position: relative;
    top: -50%;
  }
  #container > div {
    display: table-cell;
    vertical-align: middle;
    position: static;
  }
</style>
<script src="http://localhost/jquery.min.js"></script>
<script src="http://localhost/jquery.timer.js"></script>
<script>
$(document).ready(function(){

  var timer = $.timer(function(){
  //  alert('Timeout load video. Please, reload page');
    location.reload();
  });

  timer.set({ time : 5000, autostart : false });

  $('#mjpeg').append('<img width="640" height="480" border="0" src="http://localhost/mjpeg?action=stream" id="image">');
  $('#image').load(function(){
    timer.reset();
  });

    $("#left").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=left", success: function(result){
        }});
    });
    $("#up").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=up", success: function(result){
        }});
    });
    $("#down").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=down", success: function(result){
        }});
    });
    $("#right").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=right", success: function(result){
        }});
    });
    $("#zoomin")
      .click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=zoomin", success: function(result){
        }});
    })
    $("#zoominfast").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=zoominfast", success: function(result){
        }});
    });
    $("#zoomout").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=zoomout", success: function(result){
        }});
    });
    $("#zoomoutfast").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=zoomoutfast", success: function(result){
        }});
    });
    $("#zoomstop").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=zoomstop", success: function(result){
        }});
    });
    $("#shot").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=shot", success: function(result){
        }});
    });
    $("#gray").click(function(){
        $.ajax({url: "http://localhost/mjpeg?action=control&dir=gray", success: function(result){
        }});
    });
});
</script>

</head>
<body>
<div id="wrapper">
  <div id="container">

    <div>
      <h1>CAM#01</h1>
      <div>
        <button id="left" name="left" value="left">left</button>
        <button id="up" name="up" value="up">up</button>
        <button id="down" name="down" value="down">down</button>
        <button id="right" name="right" value="right">right</button>
        <button id="zoomin" name="zoomin" value="zoomin">zoomin</button>
        <button id="zoominfast" name="zoominfast" value="zoominfast">zoominfast</button>
        <button id="zoomout" name="zoomout" value="zoomout">zoomout</button>
        <button id="zoomoutfast" name="zoomoutfast" value="zoomoutfast">zoomoutfast</button>
        <button id="zoomstop" name="zoomstop" value="zoomstop">zoomstop</button>
        <button id="shot" name="shot" value="shot">shot</button>
        <button id="gray" name="gray" value="gray">gray</button>
      </div>
    </div>

    <div id="mjpeg"/>

  </div>
</div>
</body>
</html>

